<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="500" viewBox="0 0 600 500">
  <style>
    .participant { font-family: Arial; font-size: 14px; font-weight: bold; }
    .message { font-family: Arial; font-size: 12px; }
    .lifeline { stroke: #333; stroke-width: 1px; stroke-dasharray: 5,5; }
    .actor { fill: #f0f8ff; stroke: #2980b9; stroke-width: 2px; }
    .arrow { stroke: #333; stroke-width: 1.5px; }
    .return-arrow { stroke: #333; stroke-width: 1.5px; stroke-dasharray: 5,5; }
  </style>
  
  <!-- Participants -->
  <rect x="50" y="20" width="80" height="40" rx="5" class="actor" />
  <text x="90" y="45" text-anchor="middle" class="participant">BranchMgr</text>
  
  <rect x="190" y="20" width="80" height="40" rx="5" class="actor" />
  <text x="230" y="45" text-anchor="middle" class="participant">BranchApp</text>
  
  <rect x="330" y="20" width="80" height="40" rx="5" class="actor" />
  <text x="370" y="45" text-anchor="middle" class="participant">Keycloak</text>
  
  <rect x="470" y="20" width="80" height="40" rx="5" class="actor" />
  <text x="510" y="45" text-anchor="middle" class="participant">Fineract</text>
  
  <!-- Lifelines -->
  <line x1="90" y1="60" x2="90" y2="450" class="lifeline" />
  <line x1="230" y1="60" x2="230" y2="450" class="lifeline" />
  <line x1="370" y1="60" x2="370" y2="450" class="lifeline" />
  <line x1="510" y1="60" x2="510" y2="450" class="lifeline" />
  
  <!-- Messages -->
  <!-- BranchMgr to BranchApp -->
  <line x1="90" y1="80" x2="230" y2="80" class="arrow" marker-end="url(#arrowhead)" />
  <text x="160" y="75" text-anchor="middle" class="message">Login</text>
  
  <!-- BranchApp to Keycloak -->
  <line x1="230" y1="120" x2="370" y2="120" class="arrow" marker-end="url(#arrowhead)" />
  <text x="300" y="115" text-anchor="middle" class="message">Auth request</text>
  
  <!-- Keycloak to BranchApp -->
  <line x1="370" y1="160" x2="230" y2="160" class="return-arrow" marker-end="url(#arrowhead)" />
  <text x="300" y="155" text-anchor="middle" class="message">Access token</text>
  
  <!-- BranchApp to Fineract - Get pending accounts -->
  <line x1="230" y1="200" x2="510" y2="200" class="arrow" marker-end="url(#arrowhead)" />
  <text x="370" y="195" text-anchor="middle" class="message">GET /accounts?status=pending</text>
  
  <!-- Fineract to BranchApp -->
  <line x1="510" y1="240" x2="230" y2="240" class="return-arrow" marker-end="url(#arrowhead)" />
  <text x="370" y="235" text-anchor="middle" class="message">Pending accounts</text>
  
  <!-- BranchApp to Fineract - Approve account -->
  <line x1="230" y1="280" x2="510" y2="280" class="arrow" marker-end="url(#arrowhead)" />
  <text x="370" y="275" text-anchor="middle" class="message">POST /accounts/{id}/approve</text>
  
  <!-- Fineract to BranchApp -->
  <line x1="510" y1="320" x2="230" y2="320" class="return-arrow" marker-end="url(#arrowhead)" />
  <text x="370" y="315" text-anchor="middle" class="message">Approved</text>
  
  <!-- BranchApp to Fineract - Create teller -->
  <line x1="230" y1="360" x2="510" y2="360" class="arrow" marker-end="url(#arrowhead)" />
  <text x="370" y="355" text-anchor="middle" class="message">POST /tellers</text>
  
  <!-- Fineract to BranchApp -->
  <line x1="510" y1="400" x2="230" y2="400" class="return-arrow" marker-end="url(#arrowhead)" />
  <text x="370" y="395" text-anchor="middle" class="message">Teller created</text>
  
  <!-- Bottom actors -->
  <rect x="50" y="450" width="80" height="40" rx="5" class="actor" />
  <text x="90" y="475" text-anchor="middle" class="participant">BranchMgr</text>
  
  <rect x="190" y="450" width="80" height="40" rx="5" class="actor" />
  <text x="230" y="475" text-anchor="middle" class="participant">BranchApp</text>
  
  <rect x="330" y="450" width="80" height="40" rx="5" class="actor" />
  <text x="370" y="475" text-anchor="middle" class="participant">Keycloak</text>
  
  <rect x="470" y="450" width="80" height="40" rx="5" class="actor" />
  <text x="510" y="475" text-anchor="middle" class="participant">Fineract</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
</svg>